<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="theme-color" content="#000000">
<title>CRS Score</title>
<link rel="manifest" href="manifest.json">
<style>
:root{
  --r2: 28px;
  --fg: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.70);
  --shadow: 0 18px 55px rgba(0,0,0,.55);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family:-apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui;
  color:var(--fg);
  background:#000 url('bg-track.jpg') center/cover no-repeat fixed;
  overflow-x:hidden;
}

/* iOS-style material card */
.material{
  position:relative;
  border-radius: var(--r2);
  background: rgba(255,255,255,.18);
  border: 1.5px solid rgba(255,255,255,.42);
  backdrop-filter: blur(22px) saturate(190%) contrast(1.05);
  -webkit-backdrop-filter: blur(22px) saturate(190%) contrast(1.05);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.55),
    inset 0 -1px 0 rgba(255,255,255,.18),
    var(--shadow);
}
.material::before{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  background:
    radial-gradient(120% 80% at 20% 10%, rgba(255,255,255,.35), transparent 55%),
    radial-gradient(120% 80% at 80% 0%, rgba(255,255,255,.18), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(0,0,0,.10));
  pointer-events:none;
  mix-blend-mode: overlay;
  opacity:.85;
}
.material::after{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  pointer-events:none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.10);
  opacity:.9;
}

header{
  padding:18px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:14px;
}
.brand{
  display:flex; align-items:center; gap:12px;
}
.brand img{height:46px; width:auto; border-radius:12px}
.build{
  font-weight:700;
  letter-spacing:.2px;
  font-size:14px;
  color:rgba(255,255,255,.92);
}
.sub{
  font-size:12px;
  color:rgba(255,255,255,.70);
}

main{
  min-height: calc(100% - 92px);
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 18px 18px 54px 18px;
}

.card{
  width:min(460px, 94vw);
  padding: 30px;
  text-align:center;
}
.card img{
  max-width: 260px;
  width: 70%;
  height:auto;
  margin: 6px auto 16px auto;
  display:block;
}
.card p{margin:0 0 18px 0; color:var(--muted); line-height:1.25}

.actions{display:flex; flex-direction:column; gap:14px}

/* iOS 17+ glass button with refraction simulation */
.btn{
  position:relative;
  width:100%;
  min-height: 54px;
  padding: 15px 18px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  color: rgba(255,255,255,.94);
  font-size: 17px;
  font-weight: 650;
  letter-spacing: .2px;
  background: transparent;
  appearance:none;
  -webkit-appearance:none;
  cursor:pointer;
  user-select:none;
  -webkit-tap-highlight-color: transparent;
  transform: translateZ(0);
}
.btn::before{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  background: url('bg-track.jpg') center/cover no-repeat fixed;
  filter: url(#glass-distort) blur(12px) saturate(210%) contrast(1.08);
  opacity: .98;
}
.btn::after{
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  background:
    linear-gradient(180deg, rgba(255,255,255,.56), rgba(255,255,255,.22) 45%, rgba(255,255,255,.10)),
    radial-gradient(120% 90% at 30% 10%, rgba(255,255,255,.40), transparent 55%),
    radial-gradient(120% 90% at 80% 0%, rgba(255,255,255,.18), transparent 60%);
  border: 1.6px solid rgba(255,255,255,.34);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.70),
    inset 0 -1px 0 rgba(255,255,255,.20),
    0 10px 24px rgba(0,0,0,.46);
  opacity: .92;
  pointer-events:none;
}
.btn span{
  position:relative;
  z-index:2;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}
.btn .chev{
  width: 8px; height: 8px;
  border-right: 2px solid rgba(255,255,255,.80);
  border-top: 2px solid rgba(255,255,255,.80);
  transform: rotate(45deg);
  opacity:.75;
}
.btn:active{ transform: scale(.985); }
.btn:active::after{
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.45),
    inset 0 -1px 0 rgba(255,255,255,.14),
    0 5px 14px rgba(0,0,0,.58);
  opacity:.86;
}
.btn.primary::after{
  background:
    linear-gradient(180deg, rgba(255,255,255,.58), rgba(255,255,255,.22) 45%, rgba(255,255,255,.10)),
    radial-gradient(120% 90% at 30% 10%, rgba(255,216,74,.34), transparent 55%),
    radial-gradient(120% 90% at 80% 0%, rgba(255,255,255,.20), transparent 60%);
  border-color: rgba(255,216,74,.30);
}
.btn.destructive::after{
  background:
    linear-gradient(180deg, rgba(255,255,255,.56), rgba(255,255,255,.20) 45%, rgba(255,255,255,.10)),
    radial-gradient(120% 90% at 30% 10%, rgba(255,70,70,.30), transparent 55%),
    radial-gradient(120% 90% at 80% 0%, rgba(255,255,255,.18), transparent 60%);
  border-color: rgba(255,90,90,.28);
}

footer{
  position:fixed;
  left:0; right:0;
  bottom:10px;
  text-align:center;
  font-size:12px;
  color: rgba(255,255,255,.62);
}
</style>
</head>
<body>

<svg width="0" height="0" style="position:absolute">
  <filter id="glass-distort" x="-20%" y="-20%" width="140%" height="140%">
    <feTurbulence type="fractalNoise" baseFrequency="0.018" numOctaves="2" seed="8" result="noise"/>
    <feDisplacementMap in="SourceGraphic" in2="noise" scale="22" xChannelSelector="R" yChannelSelector="G"/>
  </filter>
</svg>

<header class="material">
  <div class="brand">
    <img src="crs-icon.png" alt="CRS">
    <div>
      <div class="build">CRS Score · build 4.121</div>
      <div class="sub">Liquid Glass UI — Apple‑style + refraction</div>
    </div>
  </div>
</header>

<main>
  <div class="material card">
    <img src="crs-banner.png" alt="CRS Score">
    <p>Race Control System</p>
    <div class="actions">
      <button class="btn primary"><span>Avvia Sessione <i class="chev"></i></span></button>
      <button class="btn"><span>Classifica <i class="chev"></i></span></button>
      <button class="btn destructive"><span>Reset Gara <i class="chev"></i></span></button>
    </div>
  </div>
</main>

<footer>CRS Score · PWA</footer>

<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./service-worker.js');
}
</script>
</body>
</html>
